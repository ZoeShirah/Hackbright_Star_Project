{% extends 'base.html' %}
{% block title %}Sky{% endblock %}
{% block content %}
<h2>Star View</h2>
<form id="direction">
    Select a direction:
    <select id="directionValues">
        <option value="North">North</option>
        <option value="East">East</option>
        <option value="South">South</option>
        <option value="West">West</option>
    </select>&emsp;&emsp;
</form>
<button type="button" id="constellations">Constellations</button>
<button type="button" id="clear">Clear</button>
<div id="v_const"></div>
<div class="indented">
    <div id='d3starfield'></div>
</div>
<!-- <p class="indented">Note: Default lat/long is for Hackbright, San Francisco, CA.  Default time is now</p> -->
<p class="indented">{% if "lat" in session %}
    Latitude: {{ '%.10f' | format(session['lat']) }} radians&emsp;
{% endif %}
{% if "lon" in session %}
    Longitude: {{ '%.10f' | format(session['lon']) }} radians&emsp;
{% endif %}
{% if "time" in session %}
    DateTime in UTC: {{ session["time"] }}
{% else %}
    DateTime: now
{% endif %}
</p>
<form action="/change_defaults" class="indented" id="otherParams">
    Enter a Location to autofill latitude and longitude:&emsp; <input id="geocomplete" type="text" placeholder="Type in an address" value="Hackbright Academy" />
      <fieldset>
        <label for="lat">Latitude:</label>&emsp;
        <input type="number" step="any" name="lat" placeholder="degrees as a decimal" value="">
        <label for="lng">Longitude:</label>&emsp;
        <input type="number" step="any" name="lng" placeholder="degrees as a decimal" value=""><br>
      </fieldset>
    <label for="date">Date/Time:</label>
    <input type="datetime-local" step="any" name="date">
    <input type="submit" value="Submit/Reset">
</form>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script src='/static/starsd3.js'></script>
<script src="http://maps.googleapis.com/maps/api/js?key={{ secret }}&libraries=places"></script>
<script src="static/jquery.geocomplete.js"></script>
{% endblock %}